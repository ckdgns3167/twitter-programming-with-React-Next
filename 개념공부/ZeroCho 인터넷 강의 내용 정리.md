ZeroCho 인터넷 강의 내용 정리

---

전통적인 웹 사이트에서는 브라우저에서 요청을 보내면 어떤 페이지 달라고 요청을 보내면 프론트 서버에서 다시 백앤드 서버로 바로 데이터를 달라고 요청을 한다. 데이터베이스에서 데이터 받아와서 프론트 서버로 보내주고 프론트 서버는 html과 데이터를 합쳐서 브라우저로 보내준다. 

리엑트나 vue 앵큘러 이런 것은 먼저 페이지를 하나 받고 데이터 없이 화면만 먼저 받고 그 다음에 데이터는 로딩창 돌아가고 있는 와중에 백앤드 서버에서 데이터를 직접 받아온다. 이 것이 가장 큰 차이점이다. 왜냐하면 싱글페이지 화면은 딱 한번만 받아오고 그 안에서 데이터만 계속 바꿔서 데이터에 따라서 화면도 계속 바꾼다. 

이 두가지 방식의 장단점이 있다. 원래 전통적인 방법은 즉 브라우저 -> 프론트 서버 -> 백엔드 서버 -> 데이터베이스 -> 백엔드 서버 -> 프론트 서버-> 브라우저로 데이터를 받아오는 방식은 화면에 전체가 한방에 그려진다는 장점이 있지만 과정이 길기 때문에 로딩속도가 많이 걸린다. 요즘은 3초 이내에 화면이 보이지 않으면 사용자들이 답답해한다. 따라서 로딩창이라도 보여주면 인내심이 늘어난다. 그래서 싱글페이지어플리케이션으로 로딩창을 먼저 보여줘서 사용자에게 답답함을 덜어주며 시간을 벌어 백앤드 서버에서 데이터를 받아서 화면에 그려준다. 전체적인 시간은 비슷하거나 오히려 리엑트 방식이 전체적인 시간이 더 오래 걸릴 수 있다. 왜냐하면 처음에 화면 가져올때 로딩창을 표현해주지만 모든 화면을 다가져와하기 때문에 앞으로 바뀔거에 대비한 화면을 모두 가져와야 하기때문에 결국 데이터까지 받아오는 시간이 더 걸릴 수 있다. 이 로딩창 즉 화면에 뭐라도 보이는 시간이 단축돼서 리엑트를 쓰는거다. 

이 장단점을 알고 써야한다. 프로젝트를 할 때 무턱대고 react가 핫하니까 리엑트를 써야지 하면서 쓰면 안되고 의사 결정을 내릴 때 어떤 페이지들은 리엑트를 쓰지 않는 게 더 좋다. 서비스적으로 비즈니스 적으로 

리엑트를 쓰는 경우는 어떤때냐, 사용자가 빠르게 인터렉션이 필요할 때이다. 

검색엔진이 사이트를 방문했을 때 로딩창밖에 없구나 하고 검색엔진에서 순위가 확 떨어질 수 있다. 구글의 검색엔진은 똑똑해서 리엑트나 앵귤러 보면 아 이거 싱글페이지애플리케이션이니까 조금 기다리면 백앤드 서버에서 데이터가 오겠구나 알아차리는데, 어떤 국내 모 검색앤진은 어떤 리엑트 페이지를 방문하면 어 로딩창밖에 없네 하고 그냥 이 사이트는 아직 미완성인 사이트구나 하고 휙 나가버린다. 사이트 만든 입장에서는 억울하겠지 기껏해서 리엑트로 화려하게 웹사이트를 만들었는데 검색엔진은 몰라주니까... 그래서 여기서 해결법이 두개가 나오는데, 일단 첫번째가 서버 사이트 렌더링(검색엔진을 위한...), 아까 첫 요청 때 모든 페이지를 다 받아온다고 했는데 이게 너무 비효율적이다. 이것을 위한 해결법은 코드 스플리팅이라는 기술로 딱 방문한 페이지에 대한 코드만 받게 된다. 

 서버사이드랜더링은 첫 방문만 전통적인 방법으로 하고 그 이후부터는 리엑트 방식으로 하고...

실무에서는 서버사이드랜더링과 코드스플리팅을 꼭 적용해야한다. 엄청 간단한 페이지는 필요없다.

대부분의 서비스는 검색엔진에 노출돼야 해서 서버사이드랜더링을 사용하고, 사용자를 대상으로 하는 사이트는 속도도 빨라야하기 때문에 코드 스플리팅을 적용해야한다. 

이런 것이 필요 없는 사이트는 어드민 페이지이다. 검색 엔진에 노출될 필요도 없고 조금 느리다고 해서 고객들에게는 영향은 없기 때문에 꼭 쓸 필요는 없다. 즉 next 쓸 필요없고 그냥 react 쓰면 된다. 

b2c 서비스를 할 때는 next 같은 서버사이드랜더링을 지원하는 프레임워크를 고려하는 것이 좋다. 근데 만약 서버 사이드 렌더링이나 코드 스플리팅 이런 게 next만 되는 게 아니라 react 자체로 구현이 가능하다. 

